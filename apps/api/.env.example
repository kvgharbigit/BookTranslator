# API Environment Variables
# All variables are REQUIRED for production deployment

# Server Configuration
PORT=8000
ENV=production  # or "development"
LOG_LEVEL=info
DATABASE_URL=postgresql://user:pass@host:5432/dbname
FRONTEND_URL=https://www.polytext.site  # NO LOCALHOST FALLBACK IN PRODUCTION

# Cloudflare R2 Storage
R2_ACCOUNT_ID=your_account_id
R2_ACCESS_KEY_ID=your_access_key
R2_SECRET_ACCESS_KEY=your_secret_key
R2_BUCKET=epub-translator-production
R2_REGION=auto
SIGNED_GET_TTL_SECONDS=432000  # 5 days

# PayPal Configuration
PAYPAL_CLIENT_ID=your_client_id
PAYPAL_CLIENT_SECRET=your_secret
PAYPAL_ENVIRONMENT=live  # or "sandbox"
PAYPAL_WEBHOOK_ID=your_webhook_id
MIN_PRICE_CENTS=50
TARGET_PROFIT_CENTS=40
PRICE_CENTS_PER_MILLION_TOKENS=300
MICROPAYMENTS_THRESHOLD_CENTS=800

# LLM Providers
PROVIDER=gemini
GEMINI_API_KEY=your_gemini_key
GEMINI_MODEL=gemini-2.5-flash-lite
GROQ_API_KEY=your_groq_key
GROQ_MODEL=llama-3.1-8b-instant
MAX_BATCH_TOKENS=6000
MAX_JOB_TOKENS=1000000
MAX_FILE_TOKENS=1000000
RETRY_LIMIT=3

# Redis Queue
REDIS_URL=redis://localhost:6379

# Email
EMAIL_PROVIDER=resend
RESEND_API_KEY=your_resend_key
EMAIL_FROM=noreply@polytext.site

# Security & Rate Limiting
RATE_LIMIT_BURST=10
RATE_LIMIT_PER_HOUR=60
MAX_FILE_MB=200
MAX_ZIP_ENTRIES=5000
MAX_COMPRESSION_RATIO=10

# Output Formats
GENERATE_PDF=true
GENERATE_TXT=true

# Worker Configuration
RQ_QUEUES=translate
MAX_CONCURRENT_JOBS=5
RETENTION_DAYS=5
